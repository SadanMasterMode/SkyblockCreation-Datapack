execute at @a[limit=1] run tp 35466863-3d53-4344-9b8c-9e3c6f6c4ff4 ~ ~0.75 ~
execute store result entity 35466863-3d53-4344-9b8c-9e3c6f6c4ff4 Air short 1 run time query gametime

execute unless entity @a[limit=1,predicate=sbremake:items/armor/mask/holding] run function sbremake:items/armor/mask/guidestroy

execute as @a[predicate=sbremake:items/armor/mask/holding,limit=1] at @s anchored eyes positioned ^ ^ ^ anchored feet run function sbremake:items/armor/mask/start_ray
execute if entity @a[tag=lookingAtReforge,limit=1] run function sbremake:items/armor/mask/guidestroy

execute if entity @a[limit=1,predicate=sbremake:items/armor/mask/holding] unless entity @e[type=chest_minecart,tag=spookyCart] at @a unless entity @a[tag=lookingAtReforge,limit=1] run summon minecraft:area_effect_cloud ~ ~0.75 ~ {Radius:0,Duration:2147483647,Passengers:[{id:"minecraft:chest_minecart",Invulnerable:1b,Tags:["spookyCart","spectator","invisible_minecart"],Items:[{Slot:0b,id:"minecraft:gray_stained_glass_pane",Count:1b,tag:{display:{Name:'{"text":" "}'}}},{Slot:1b,id:"minecraft:gray_stained_glass_pane",Count:1b,tag:{display:{Name:'{"text":" "}'}}},{Slot:2b,id:"minecraft:gray_stained_glass_pane",Count:1b,tag:{display:{Name:'{"text":" "}'}}},{Slot:3b,id:"minecraft:gray_stained_glass_pane",Count:1b,tag:{display:{Name:'{"text":" "}'}}},{Slot:4b,id:"minecraft:gray_stained_glass_pane",Count:1b,tag:{display:{Name:'{"text":" "}'}}},{Slot:5b,id:"minecraft:gray_stained_glass_pane",Count:1b,tag:{display:{Name:'{"text":" "}'}}},{Slot:6b,id:"minecraft:gray_stained_glass_pane",Count:1b,tag:{display:{Name:'{"text":" "}'}}},{Slot:7b,id:"minecraft:gray_stained_glass_pane",Count:1b,tag:{display:{Name:'{"text":" "}'}}},{Slot:8b,id:"minecraft:gray_stained_glass_pane",Count:1b,tag:{display:{Name:'{"text":" "}'}}},{Slot:9b,id:"minecraft:gray_stained_glass_pane",Count:1b,tag:{display:{Name:'{"text":" "}'}}},{Slot:10b,id:"minecraft:zombie_head",Count:1b,tag:{display:{Name:'[{"text":"Zombie Mode","italic":false,"color":"red"}]',Lore:['[{"text":"Click to select ","italic":false,"color":"gray"},{"text":"Zombie Repellent!","color":"red"},{"text":"","color":"dark_purple"}]','[{"text":"","italic":false,"color":"dark_purple"}]','[{"text":"All Zombies within ","italic":false,"color":"gray"},{"text":"20 ","color":"green"},{"text":"blocks","color":"gray"}]','[{"text":"will automatically be","italic":false,"color":"gray"},{"text":" pushed away","color":"green"},{"text":"!"},{"text":"","color":"dark_purple"}]','[{"text":"","italic":false,"color":"dark_purple"}]','[{"text":"Works On:","italic":false,"color":"gray"}]','[{"text":" - ","italic":false,"color":"gray"},{"text":"Zombies","color":"red"},{"text":"","color":"dark_purple"}]','[{"text":" - ","italic":false,"color":"gray"},{"text":"Zombie Pigman","color":"red"},{"text":"","color":"dark_purple"}]','[{"text":" - ","italic":false,"color":"gray"},{"text":"Zombie Villager","color":"red"},{"text":"","color":"dark_purple"}]','[{"text":" - ","italic":false,"color":"gray"},{"text":"Zombie Horse","color":"red"},{"text":"","color":"dark_purple"}]','[{"text":" - ","italic":false,"color":"gray"},{"text":"Husk","color":"red"},{"text":"","color":"dark_purple"}]','[{"text":" - ","italic":false,"color":"gray"},{"text":"Drowned","color":"red"},{"text":"","color":"dark_purple"}]','[{"text":"","italic":false,"color":"dark_purple"}]','[{"text":"Custom Item","italic":false,"color":"dark_gray"},{"text":"","italic":false,"color":"dark_purple"}]','[{"text":"GUI ITEM","italic":false,"color":"red","bold":true}]']}}},{Slot:11b,id:"minecraft:gray_stained_glass_pane",Count:1b,tag:{display:{Name:'{"text":" "}'}}},{Slot:12b,id:"minecraft:skeleton_skull",Count:1b,tag:{display:{Name:'[{"text":"Skeleton Mode","italic":false,"color":"red"}]',Lore:['[{"text":"Click to select ","italic":false,"color":"gray"},{"text":"Skeleton Repellent!","color":"red"},{"text":"","color":"dark_purple"}]','[{"text":"","italic":false,"color":"dark_purple"}]','[{"text":"All Skeletons within ","italic":false,"color":"gray"},{"text":"20 ","color":"green"},{"text":"blocks","color":"gray"}]','[{"text":"will automatically be","italic":false,"color":"gray"},{"text":" pushed away","color":"green"},{"text":"!"},{"text":"","color":"dark_purple"}]','[{"text":"","italic":false,"color":"dark_purple"}]','[{"text":"Works On:","italic":false,"color":"gray"}]','[{"text":" - ","italic":false,"color":"gray"},{"text":"Skeleton","color":"red"},{"text":"","color":"dark_purple"}]','[{"text":" - ","italic":false,"color":"gray"},{"text":"Wither Skeleton","color":"red"},{"text":"","color":"dark_purple"}]','[{"text":" - ","italic":false,"color":"gray"},{"text":"Skeleton Horse","color":"red"},{"text":"","color":"dark_purple"}]','[{"text":" - ","italic":false,"color":"gray"},{"text":"Stray","color":"red"},{"text":"","color":"dark_purple"}]','[{"text":"","italic":false,"color":"dark_purple"}]','[{"text":"Custom Item","italic":false,"color":"dark_gray"},{"text":"","italic":false,"color":"dark_purple"}]','[{"text":"GUI ITEM","italic":false,"color":"red","bold":true}]']}}},{Slot:13b,id:"minecraft:gray_stained_glass_pane",Count:1b,tag:{display:{Name:'{"text":" "}'}}},{Slot:14b,id:"minecraft:creeper_head",Count:1b,tag:{display:{Name:'[{"text":"Explosive Mode","italic":false,"color":"red"}]',Lore:['[{"text":"Click to select ","italic":false,"color":"gray"},{"text":"Explosion Repellent!","color":"red"},{"text":"","color":"dark_purple"}]','[{"text":"","italic":false,"color":"dark_purple"}]','[{"text":"All ","italic":false,"color":"gray"},{"text":"Explosions","color":"red"},{"text":" within "},{"text":"20 ","color":"green"},{"text":"blocks","color":"gray"}]','[{"text":"will automatically be","italic":false,"color":"gray"},{"text":" pushed away","color":"green"},{"text":"!"},{"text":"","color":"dark_purple"}]','[{"text":"","italic":false,"color":"dark_purple"}]','[{"text":"Works On:","italic":false,"color":"gray"}]','[{"text":" - ","italic":false,"color":"gray"},{"text":"Creepers","color":"red"},{"text":"","color":"dark_purple"}]','[{"text":" - ","italic":false,"color":"gray"},{"text":"Primed TNT","color":"red"},{"text":"","color":"dark_purple"}]','[{"text":" - ","italic":false,"color":"gray"},{"text":"Wither Skulls","color":"red"},{"text":"","color":"dark_purple"}]','[{"text":"","italic":false,"color":"dark_purple"}]','[{"text":"âš  May cause further damage.","italic":false,"color":"gold"},{"text":"","italic":false,"color":"dark_purple"}]','[{"text":"","italic":false,"color":"dark_purple"}]','[{"text":"Custom Item","italic":false,"color":"dark_gray"},{"text":"","italic":false,"color":"dark_purple"}]','[{"text":"GUI ITEM","italic":false,"color":"red","bold":true}]']}}},{Slot:15b,id:"minecraft:gray_stained_glass_pane",Count:1b,tag:{display:{Name:'{"text":" "}'}}},{Slot:16b,id:"minecraft:player_head",Count:1b,tag:{SkullOwner:{Id:[I;-1339275177,1329941719,-2024897808,-1501401745],Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvMzVlMjQ4ZGEyZTEwOGYwOTgxM2E2Yjg0OGEwZmNlZjExMTMwMDk3ODE4MGVkYTQxZDNkMWE3YThlNGRiYTNjMyJ9fX0="}]}},display:{Name:'[{"text":"Arthropod Mode","italic":false,"color":"red"}]',Lore:['[{"text":"Click to select ","italic":false,"color":"gray"},{"text":"Arthropod Repellent!","color":"red"},{"text":"","color":"dark_purple"}]','[{"text":"","italic":false,"color":"dark_purple"}]','[{"text":"All ","italic":false,"color":"gray"},{"text":"Arthropods ","color":"red"},{"text":"within "},{"text":"20 ","color":"green"},{"text":"blocks","color":"gray"}]','[{"text":"will automatically be ","italic":false,"color":"gray"},{"text":"pushed away","color":"green"},{"text":"!","color":"gray"}]','[{"text":"","italic":false,"color":"gray"}]','[{"text":"Works On:","italic":false,"color":"gray"}]','[{"text":" - ","italic":false,"color":"gray"},{"text":"Spiders","color":"red"},{"text":"","color":"dark_purple"}]','[{"text":" - ","italic":false,"color":"gray"},{"text":"Cave Spiders","color":"red"},{"text":"","color":"dark_purple"}]','[{"text":" - ","italic":false,"color":"gray"},{"text":"Silverfish","color":"red"},{"text":"","color":"dark_purple"}]','[{"text":" - ","italic":false,"color":"gray"},{"text":"Bees","color":"red"},{"text":"","color":"dark_purple"}]','[{"text":" - ","italic":false,"color":"gray"},{"text":"Endermites","color":"red"},{"text":"","color":"dark_purple"}]','[{"text":"","italic":false,"color":"dark_purple"}]','[{"text":"Custom Item","italic":false,"color":"dark_gray"},{"text":"","italic":false,"color":"dark_purple"}]','[{"text":"GUI ITEM","italic":false,"color":"red","bold":true}]']}}},{Slot:17b,id:"minecraft:gray_stained_glass_pane",Count:1b,tag:{display:{Name:'{"text":" "}'}}},{Slot:18b,id:"minecraft:gray_stained_glass_pane",Count:1b,tag:{display:{Name:'{"text":" "}'}}},{Slot:19b,id:"minecraft:gray_stained_glass_pane",Count:1b,tag:{display:{Name:'{"text":" "}'}}},{Slot:20b,id:"minecraft:gray_stained_glass_pane",Count:1b,tag:{display:{Name:'{"text":" "}'}}},{Slot:21b,id:"minecraft:gray_stained_glass_pane",Count:1b,tag:{display:{Name:'{"text":" "}'}}},{Slot:22b,id:"minecraft:barrier",Count:1b,tag:{display:{Name:'[{"text":"Revert Selection","italic":false,"color":"red"}]',Lore:['[{"text":"Feeling a bit plain?","italic":false,"color":"gray"}]','[{"text":"Revert the mask back to it\'s","italic":false,"color":"gray"}]','[{"text":"original design for no cost!","italic":false,"color":"gray"}]']}}},{Slot:23b,id:"minecraft:gray_stained_glass_pane",Count:1b,tag:{display:{Name:'{"text":" "}'}}},{Slot:24b,id:"minecraft:gray_stained_glass_pane",Count:1b,tag:{display:{Name:'{"text":" "}'}}},{Slot:25b,id:"minecraft:gray_stained_glass_pane",Count:1b,tag:{display:{Name:'{"text":" "}'}}},{Slot:26b,id:"minecraft:gray_stained_glass_pane",Count:1b,tag:{display:{Name:'{"text":" "}'}}}],CustomName:'[{"text":"Choose Mob Type"}]',NoGravity:1b,Silent:1b,CustomDisplayTile:1b,DisplayState:{Name:"minecraft:air"}}],Tags:["spookyCart","spectator","invisible_minecart"],UUID:[I;893806691,1028866884,-1685283268,1869369332]}
# 35466863-3d53-4344-9b8c-9e3c6f6c4ff4

execute if entity 35466863-3d53-4344-9b8c-9e3c6f6c4ff4 unless entity @e[tag=spookyCart,nbt={Items:[{Slot:16b,id:"minecraft:player_head",Count:1b}]}] as @a run function sbremake:items/armor/mask/spider
execute if entity 35466863-3d53-4344-9b8c-9e3c6f6c4ff4 unless entity @e[tag=spookyCart,nbt={Items:[{Slot:14b,id:"minecraft:creeper_head",Count:1b}]}] as @a run function sbremake:items/armor/mask/creeper
execute if entity 35466863-3d53-4344-9b8c-9e3c6f6c4ff4 unless entity @e[tag=spookyCart,nbt={Items:[{Slot:12b,id:"minecraft:skeleton_skull",Count:1b}]}] as @a run function sbremake:items/armor/mask/skeleton
execute if entity 35466863-3d53-4344-9b8c-9e3c6f6c4ff4 unless entity @e[tag=spookyCart,nbt={Items:[{Slot:10b,id:"minecraft:zombie_head",Count:1b}]}] as @a run function sbremake:items/armor/mask/zombie
execute if entity 35466863-3d53-4344-9b8c-9e3c6f6c4ff4 unless entity @e[tag=spookyCart,nbt={Items:[{Slot:22b,id:"minecraft:barrier",Count:1b}]}] as @a run function sbremake:items/armor/mask/lc

execute if entity @a[limit=1,tag=arthropodMode,predicate=sbremake:items/armor/mask/spider-mask] run function sbremake:items/armor/mask/spiderdie
execute if entity @a[limit=1,tag=explosionMode,predicate=sbremake:items/armor/mask/creeper-mask] run function sbremake:items/armor/mask/creeperdie
execute if entity @a[limit=1,tag=skeletonMode,predicate=sbremake:items/armor/mask/skeleton-mask] run function sbremake:items/armor/mask/skeletondie
execute if entity @a[limit=1,tag=zombieMode,predicate=sbremake:items/armor/mask/zombie-mask] run function sbremake:items/armor/mask/zombiedie