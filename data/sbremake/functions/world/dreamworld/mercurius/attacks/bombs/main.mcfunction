function sbremake:utils/random_number
scoreboard players operation @a rand %= #7 const

execute if score @a[limit=1] rand matches 0 run summon area_effect_cloud ~ ~ ~ {Passengers:[{id:"minecraft:item_display",Invulnerable:1b,NoGravity:1b,item:{id: "player_head", Count: 1b, tag: {SkullOwner: {Id: [I; -2016161354, 1281444306, -2113520517, -1859305578], Properties: {textures: [{Value: "eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvZTExNWM3OTY4ZWMzNzcxZWU5ZmY2YWU2YmNhMmQ1YmEzOTYyYWE3MjdhNGZhOGQzNzYwOGU0YzliZjE1MTJiYiJ9fX0="}]}}}},Tags: ["spectator"]},{id:"minecraft:text_display",text:'{"text":"SNOW BOMB","color":"white","bold":true}',transformation:[1.000f, 0.000f, 0.000f,0.000f,0.000f, 1.000f, 0.000f,0.100f,0.000f, 0.000f, 1.000f,0.000f,0.000f, 0.000f, 0.000f,1.000f],billboard:"vertical",Tags:["spectator"]}],Tags:["freezeBomb","spectator","mercuriusBomb"],Radius:0,Duration:2147483647}

execute if score @a[limit=1] rand matches 1 run summon area_effect_cloud ~ ~ ~ {Passengers:[{id:"minecraft:item_display",Invulnerable:1b,NoGravity:1b,item:{id: "player_head", Count: 1b, tag: {SkullOwner: {Id: [I; 1838488378, 1581860101, -2069963498, 1581973248], Properties: {textures: [{Value: "eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvNDZlMGEzY2M2NjU3ZDQyMDU4MThmZmVmNWNjN2I3ZTM2YzM4MWQ0MjY5YjY5MDEwYzcyOTdhNmZhNjhkODNkNyJ9fX0="}]}}}},Tags: ["spectator"]},{id:"minecraft:text_display",text:'{"text":"WOUNDING BOMB","color":"red","bold":true}',transformation:[1.000f, 0.000f, 0.000f,0.000f,0.000f, 1.000f, 0.000f,0.100f,0.000f, 0.000f, 1.000f,0.000f,0.000f, 0.000f, 0.000f,1.000f],billboard:"vertical",Tags:["spectator"]}],Tags:["damageBomb","spectator","mercuriusBomb"],Radius:0,Duration:2147483647}

execute if score @a[limit=1] rand matches 2 run summon area_effect_cloud ~ ~ ~ {Passengers:[{id:"minecraft:item_display",Invulnerable:1b,NoGravity:1b,item:{id: "player_head", Count: 1b, tag: {SkullOwner: {Id: [I; -591746226, -986300301, -1101840507, -857640214], Properties: {textures: [{Value: "eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvYTM4MjYxODFjZTkwMTJiNjY1ODY1ZjNhYzAwNjYzMDdiNGQwMmRhMjgxNTQwMTA0ZTA0NjFmZmVmYTc0NTlmZCJ9fX0="}]}}}},Tags: ["spectator"]},{id:"minecraft:text_display",text:'{"text":"ENDER BOMB","color":"light_purple","bold":true}',transformation:[1.000f, 0.000f, 0.000f,0.000f,0.000f, 1.000f, 0.000f,0.100f,0.000f, 0.000f, 1.000f,0.000f,0.000f, 0.000f, 0.000f,1.000f],billboard:"vertical",Tags:["spectator"]}],Tags:["enderBomb","spectator","mercuriusBomb"],Radius:0,Duration:2147483647}

execute if score @a[limit=1] rand matches 3 run summon area_effect_cloud ~ ~ ~ {Passengers:[{id:"minecraft:item_display",Invulnerable:1b,NoGravity:1b,item:{id: "player_head", Count: 1b, tag: {SkullOwner:{Id:[I;-178142691,-254587445,-1300328497,-528839546],Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvNmNiNTcyN2I5ODZjMzZlMDc1ODIxNDhiODg2MTAyY2Y4MDcwYjBlZTNhYTM3NzFiMjQ2NDM5M2Y1ODhhODMyZCJ9fX0="}]}}}},Tags: ["spectator"]},{id:"minecraft:text_display",text:'{"text":"WEAKNESS BOMB","color":"dark_red","bold":true}',transformation:[1.000f, 0.000f, 0.000f,0.000f,0.000f, 1.000f, 0.000f,0.100f,0.000f, 0.000f, 1.000f,0.000f,0.000f, 0.000f, 0.000f,1.000f],billboard:"vertical",Tags:["spectator"]}],Tags:["weaknessBomb","spectator","mercuriusBomb"],Radius:0,Duration:2147483647}

execute if score @a[limit=1] rand matches 4 run summon area_effect_cloud ~ ~ ~ {Passengers:[{id:"minecraft:item_display",Invulnerable:1b,NoGravity:1b,item:{id: "player_head", Count: 1b, tag: {SkullOwner:{Id:[I;1108022894,1708606341,-1268705433,-1092717945],Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvYjY0NGIwN2E1YTcyNGQ2YzM5YTcwZTNjY2RiMmRiMTA3NjgyYTEyZTkwMDViYzIwYjk0MTVlNDA1MDhiYjUxMiJ9fX0="}]}}}},Tags: ["spectator"]},{id:"minecraft:text_display",text:'{"text":"MANA BOMB","color":"aqua","bold":true}',transformation:[1.000f, 0.000f, 0.000f,0.000f,0.000f, 1.000f, 0.000f,0.100f,0.000f, 0.000f, 1.000f,0.000f,0.000f, 0.000f, 0.000f,1.000f],billboard:"vertical",Tags:["spectator"]}],Tags:["manaBomb","spectator","mercuriusBomb"],Radius:0,Duration:2147483647}

execute if score @a[limit=1] rand matches 5 run summon area_effect_cloud ~ ~ ~ {Passengers:[{id:"minecraft:item_display",Invulnerable:1b,NoGravity:1b,item:{id: "player_head", Count: 1b, tag: {SkullOwner:{Id:[I;-188136663,1638748154,-1363850153,1026807687],Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvZDQ1ZjRkMTM5YzllODkyNjJlYzA2YjI3YWFhZDczZmE0ODhhYjQ5MjkwZDJjY2Q2ODVhMjU1NDcyNTM3M2M5YiJ9fX0="}]}}}},Tags: ["spectator"]},{id:"minecraft:text_display",text:'{"text":"HEALTH BOMB","color":"green","bold":true}',transformation:[1.000f, 0.000f, 0.000f,0.000f,0.000f, 1.000f, 0.000f,0.100f,0.000f, 0.000f, 1.000f,0.000f,0.000f, 0.000f, 0.000f,1.000f],billboard:"vertical",Tags:["spectator"]}],Tags:["healthBomb","spectator","mercuriusBomb"],Radius:0,Duration:2147483647}

execute if score @a[limit=1] rand matches 6 run summon area_effect_cloud ~ ~ ~ {Passengers:[{id:"minecraft:item_display",Invulnerable:1b,NoGravity:1b,item:{id: "player_head", Count: 1b, tag: {SkullOwner:{Id:[I;-1198599738,1714047228,-2122439139,1290731498],Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvODYyNGJhY2I1ZjE5ODZlNjQ3N2FiY2U0YWU3ZGNhMTgyMGE1MjYwYjYyMzNiNTViYTFkOWJhOTM2Yzg0YiJ9fX0="}]}}}},Tags: ["spectator"]},{id:"minecraft:text_display",text:'{"text":"SPEED BOMB","color":"yellow","bold":true}',transformation:[1.000f, 0.000f, 0.000f,0.000f,0.000f, 1.000f, 0.000f,0.100f,0.000f, 0.000f, 1.000f,0.000f,0.000f, 0.000f, 0.000f,1.000f],billboard:"vertical",Tags:["spectator"]}],Tags:["speedBomb","spectator","mercuriusBomb"],Radius:0,Duration:2147483647}

spreadplayers 100 99 1.0 18 false @e[tag=mercuriusBomb,tag=!teleported,type=area_effect_cloud]
execute as @e[tag=mercuriusBomb,tag=!teleported,type=area_effect_cloud] run data modify entity @s Pos[1] set value 41.5d
tag @e[tag=mercuriusBomb,type=area_effect_cloud,tag=!teleported] add teleported

# Set bomb type
data remove storage sbremake:data World.Mercurius.BombType
data remove storage sbremake:data World.Mercurius.BombExtra
execute if entity @a[scores={rand=0}] run data modify storage sbremake:data World.Mercurius.BombType set value '{"text":"Snow Bomb","color":"white"}'
execute if entity @a[scores={rand=1}] run data modify storage sbremake:data World.Mercurius.BombType set value '{"text":"Wounding Bomb","color":"red"}'
execute if entity @a[scores={rand=2}] run data modify storage sbremake:data World.Mercurius.BombType set value '{"text":"Ender Bomb","color":"light_purple"}'
execute if entity @a[scores={rand=3}] run data modify storage sbremake:data World.Mercurius.BombType set value '{"text":"Weakness Bomb","color":"dark_red"}'
execute if entity @a[scores={rand=4}] run data modify storage sbremake:data World.Mercurius.BombType set value '{"text":"Mana Bomb","color":"blue"}'
execute if entity @a[scores={rand=5}] run data modify storage sbremake:data World.Mercurius.BombType set value '{"text":"Health Bomb","color":"green"}'
execute if entity @a[scores={rand=6}] run data modify storage sbremake:data World.Mercurius.BombType set value '{"text":"Speed Bomb","color":"yellow"}'
execute if entity @a[scores={rand=0..3}] run data modify storage sbremake:data World.Mercurius.BombExtra set value '{"text":"","color":"red"}'
execute if entity @a[scores={rand=4..6}] run data modify storage sbremake:data World.Mercurius.BombExtra set value '{"text":"","color":"green"}'

# Send fight message
function sbremake:utils/random_number
scoreboard players operation @a rand %= #7 const
tellraw @a[scores={rand=0}] [{"text": "[BOSS]","color": "red"},{"text": " Grand Emperor Mercurius","color": "red"},{"text": ": Whoops, accidentally sent a ","color": "white"},{"nbt":"World.Mercurius.BombType","storage":"sbremake:data","interpret": true},{"text": "!","color": "white"}]
tellraw @a[scores={rand=1}] [{"text": "[BOSS]","color": "red"},{"text": " Grand Emperor Mercurius","color": "red"},{"text": ": Don't fall into my ","color": "white"},{"nbt":"World.Mercurius.BombType","storage":"sbremake:data","interpret": true},{"text": "!","color": "white"}]
tellraw @a[scores={rand=2}] [{"text": "[BOSS]","color": "red"},{"text": " Grand Emperor Mercurius","color": "red"},{"text": ": That was a mouseslip, don't touch my ","color": "white"},{"nbt":"World.Mercurius.BombType","storage":"sbremake:data","interpret": true},{"text": "!","color": "white"}]
tellraw @a[scores={rand=3}] [{"text": "[BOSS]","color": "red"},{"text": " Grand Emperor Mercurius","color": "red"},{"text": ": My ","color": "white"},{"nbt":"World.Mercurius.BombType","storage":"sbremake:data","interpret": true},{"text": " is my favourite!","color": "white"}]
tellraw @a[scores={rand=4}] [{"text": "[BOSS]","color": "red"},{"text": " Grand Emperor Mercurius","color": "red"},{"text": ": Is that a ","color": "white"},{"nbt":"World.Mercurius.BombType","storage":"sbremake:data","interpret": true},{"text": "? That wasn't supposed to happen!","color": "white"}]
tellraw @a[scores={rand=5}] [{"text": "[BOSS]","color": "red"},{"text": " Grand Emperor Mercurius","color": "red"},{"text": ": Be careful around that ","color": "white"},{"nbt":"World.Mercurius.BombType","storage":"sbremake:data","interpret": true},{"text": "!","color": "white"}]
tellraw @a[scores={rand=6}] [{"text": "[BOSS]","color": "red"},{"text": " Grand Emperor Mercurius","color": "red"},{"text": ": Look behind you, it's a ","color": "white"},{"nbt":"World.Mercurius.BombType","storage":"sbremake:data","interpret": true},{"text": "!","color": "white"}]