effect give @e[tag=weakRail] resistance 1 4 true
execute store result score @p maxCharge run data get entity @p SelectedItem.tag.max
execute if entity @p[nbt={SelectedItem:{id:"minecraft:wooden_hoe",tag:{display:{Name:'[{"text":"Weak Railgun","italic":false,"color":"green"}]'}}}}] if score @p weakrailRC matches 1.. unless score @p weakrailCharge matches 99.. if score @p mana matches ..24 run function sbremake:items/railgun/weak/mana
execute if entity @p[nbt={SelectedItem:{id:"minecraft:wooden_hoe",tag:{display:{Name:'[{"text":"Weak Railgun","italic":false,"color":"green"}]'}}}}] if score @p weakrailRC matches 1.. unless score @p weakrailCharge matches 99.. unless score @p mana matches ..24 run function sbremake:items/railgun/weak/main
execute unless score @p manaWarn matches 1 if entity @p[nbt={SelectedItem:{id:"minecraft:wooden_hoe",tag:{display:{Name:'[{"text":"Weak Railgun","italic":false,"color":"green"}]'}}}}] if score @p weakrailCharge matches 0 run title @a actionbar [{"text": "Railgun Charge: ","color": "blue","bold": true},{"text": "| | | | | | | | | |","bold": false,"color": "aqua"},{"text": " "},{"score":{"name":"@p","objective":"mana"},"color":"aqua","bold":false},{"text":"/","color":"aqua","bold":false},{"score":{"name":"@p","objective":"maxMana"},"color":"aqua","bold":false},{"text":"✎","color":"aqua","bold":false}]
execute unless score @p manaWarn matches 1 if entity @p[nbt={SelectedItem:{id:"minecraft:wooden_hoe",tag:{display:{Name:'[{"text":"Weak Railgun","italic":false,"color":"green"}]'}}}}] if score @p weakrailCharge matches 1..10 run title @a actionbar [{"text": "Railgun Charge: ","color": "blue","bold": true},{"text": "|","color": "aqua","bold": false},{"text": "=","color": "dark_aqua"},{"text": "| | | | | | | | |","bold": false,"color": "aqua"},{"text": " "},{"score":{"name":"@p","objective":"mana"},"color":"aqua","bold":false},{"text":"/","color":"aqua","bold":false},{"score":{"name":"@p","objective":"maxMana"},"color":"aqua","bold":false},{"text":"✎","color":"aqua","bold":false}]
execute unless score @p manaWarn matches 1 if entity @p[nbt={SelectedItem:{id:"minecraft:wooden_hoe",tag:{display:{Name:'[{"text":"Weak Railgun","italic":false,"color":"green"}]'}}}}] if score @p weakrailCharge matches 11..20 run title @a actionbar [{"text": "Railgun Charge: ","color": "blue","bold": true},{"text": "|","color": "aqua","bold": false},{"text": "=","color": "dark_aqua"},{"text": "|","color": "aqua","bold": false},{"text": "=","color": "dark_aqua"},{"text": "| | | | | | | |","bold": false,"color": "aqua"},{"text": " "},{"score":{"name":"@p","objective":"mana"},"color":"aqua","bold":false},{"text":"/","color":"aqua","bold":false},{"score":{"name":"@p","objective":"maxMana"},"color":"aqua","bold":false},{"text":"✎","color":"aqua","bold":false}]
execute unless score @p manaWarn matches 1 if entity @p[nbt={SelectedItem:{id:"minecraft:wooden_hoe",tag:{display:{Name:'[{"text":"Weak Railgun","italic":false,"color":"green"}]'}}}}] if score @p weakrailCharge matches 21..30 run title @a actionbar [{"text": "Railgun Charge: ","color": "blue","bold": true},{"text": "|","color": "aqua","bold": false},{"text": "=","color": "dark_aqua"},{"text": "|","color": "aqua","bold": false},{"text": "=","color": "dark_aqua"},{"text": "|","color": "aqua","bold": false},{"text": "=","color": "dark_aqua"},{"text": "| | | | | | |","bold": false,"color": "aqua"},{"text": " "},{"score":{"name":"@p","objective":"mana"},"color":"aqua","bold":false},{"text":"/","color":"aqua","bold":false},{"score":{"name":"@p","objective":"maxMana"},"color":"aqua","bold":false},{"text":"✎","color":"aqua","bold":false}]
execute unless score @p manaWarn matches 1 if entity @p[nbt={SelectedItem:{id:"minecraft:wooden_hoe",tag:{display:{Name:'[{"text":"Weak Railgun","italic":false,"color":"green"}]'}}}}] if score @p weakrailCharge matches 31..40 run title @a actionbar [{"text": "Railgun Charge: ","color": "blue","bold": true},{"text": "|","color": "aqua","bold": false},{"text": "=","color": "dark_aqua"},{"text": "|","color": "aqua","bold": false},{"text": "=","color": "dark_aqua"},{"text": "|","color": "aqua","bold": false},{"text": "=","color": "dark_aqua"},{"text": "|","color": "aqua","bold": false},{"text": "=","color": "dark_aqua"},{"text": "| | | | | |","bold": false,"color": "aqua"},{"text": " "},{"score":{"name":"@p","objective":"mana"},"color":"aqua","bold":false},{"text":"/","color":"aqua","bold":false},{"score":{"name":"@p","objective":"maxMana"},"color":"aqua","bold":false},{"text":"✎","color":"aqua","bold":false}]
execute unless score @p manaWarn matches 1 if entity @p[nbt={SelectedItem:{id:"minecraft:wooden_hoe",tag:{display:{Name:'[{"text":"Weak Railgun","italic":false,"color":"green"}]'}}}}] if score @p weakrailCharge matches 41..50 run title @a actionbar [{"text": "Railgun Charge: ","color": "blue","bold": true},{"text": "|","color": "aqua","bold": false},{"text": "=","color": "dark_aqua"},{"text": "|","color": "aqua","bold": false},{"text": "=","color": "dark_aqua"},{"text": "|","color": "aqua","bold": false},{"text": "=","color": "dark_aqua"},{"text": "|","color": "aqua","bold": false},{"text": "=","color": "dark_aqua"},{"text": "|","color": "aqua","bold": false},{"text": "=","color": "dark_aqua"},{"text": "| | | | |","bold": false,"color": "aqua"},{"text": " "},{"score":{"name":"@p","objective":"mana"},"color":"aqua","bold":false},{"text":"/","color":"aqua","bold":false},{"score":{"name":"@p","objective":"maxMana"},"color":"aqua","bold":false},{"text":"✎","color":"aqua","bold":false}]
execute unless score @p manaWarn matches 1 if entity @p[nbt={SelectedItem:{id:"minecraft:wooden_hoe",tag:{display:{Name:'[{"text":"Weak Railgun","italic":false,"color":"green"}]'}}}}] if score @p weakrailCharge matches 51..60 run title @a actionbar [{"text": "Railgun Charge: ","color": "blue","bold": true},{"text": "|","color": "aqua","bold": false},{"text": "=","color": "dark_aqua"},{"text": "|","color": "aqua","bold": false},{"text": "=","color": "dark_aqua"},{"text": "|","color": "aqua","bold": false},{"text": "=","color": "dark_aqua"},{"text": "|","color": "aqua","bold": false},{"text": "=","color": "dark_aqua"},{"text": "|","color": "aqua","bold": false},{"text": "=","color": "dark_aqua"},{"text": "|","color": "aqua","bold": false},{"text": "=","color": "dark_aqua"},{"text": "| | | |","bold": false,"color": "aqua"},{"text": " "},{"score":{"name":"@p","objective":"mana"},"color":"aqua","bold":false},{"text":"/","color":"aqua","bold":false},{"score":{"name":"@p","objective":"maxMana"},"color":"aqua","bold":false},{"text":"✎","color":"aqua","bold":false}]
execute unless score @p manaWarn matches 1 if entity @p[nbt={SelectedItem:{id:"minecraft:wooden_hoe",tag:{display:{Name:'[{"text":"Weak Railgun","italic":false,"color":"green"}]'}}}}] if score @p weakrailCharge matches 61..70 run title @a actionbar [{"text": "Railgun Charge: ","color": "blue","bold": true},{"text": "|","color": "aqua","bold": false},{"text": "=","color": "dark_aqua"},{"text": "|","color": "aqua","bold": false},{"text": "=","color": "dark_aqua"},{"text": "|","color": "aqua","bold": false},{"text": "=","color": "dark_aqua"},{"text": "|","color": "aqua","bold": false},{"text": "=","color": "dark_aqua"},{"text": "|","color": "aqua","bold": false},{"text": "=","color": "dark_aqua"},{"text": "|","color": "aqua","bold": false},{"text": "=","color": "dark_aqua"},{"text": "|","color": "aqua","bold": false},{"text": "=","color": "dark_aqua"},{"text": "| | |","bold": false,"color": "aqua"},{"text": " "},{"score":{"name":"@p","objective":"mana"},"color":"aqua","bold":false},{"text":"/","color":"aqua","bold":false},{"score":{"name":"@p","objective":"maxMana"},"color":"aqua","bold":false},{"text":"✎","color":"aqua","bold":false}]
execute unless score @p manaWarn matches 1 if entity @p[nbt={SelectedItem:{id:"minecraft:wooden_hoe",tag:{display:{Name:'[{"text":"Weak Railgun","italic":false,"color":"green"}]'}}}}] if score @p weakrailCharge matches 71..80 run title @a actionbar [{"text": "Railgun Charge: ","color": "blue","bold": true},{"text": "|","color": "aqua","bold": false},{"text": "=","color": "dark_aqua"},{"text": "|","color": "aqua","bold": false},{"text": "=","color": "dark_aqua"},{"text": "|","color": "aqua","bold": false},{"text": "=","color": "dark_aqua"},{"text": "|","color": "aqua","bold": false},{"text": "=","color": "dark_aqua"},{"text": "|","color": "aqua","bold": false},{"text": "=","color": "dark_aqua"},{"text": "|","color": "aqua","bold": false},{"text": "=","color": "dark_aqua"},{"text": "|","color": "aqua","bold": false},{"text": "=","color": "dark_aqua"},{"text": "|","color": "aqua","bold": false},{"text": "=","color": "dark_aqua"},{"text": "| |","bold": false,"color": "aqua"},{"text": " "},{"score":{"name":"@p","objective":"mana"},"color":"aqua","bold":false},{"text":"/","color":"aqua","bold":false},{"score":{"name":"@p","objective":"maxMana"},"color":"aqua","bold":false},{"text":"✎","color":"aqua","bold":false}]
execute unless score @p manaWarn matches 1 if entity @p[nbt={SelectedItem:{id:"minecraft:wooden_hoe",tag:{display:{Name:'[{"text":"Weak Railgun","italic":false,"color":"green"}]'}}}}] if score @p weakrailCharge matches 81..99 run title @a actionbar [{"text": "Railgun Charge: ","color": "blue","bold": true},{"text": "|","color": "aqua","bold": false},{"text": "=","color": "dark_aqua"},{"text": "|","color": "aqua","bold": false},{"text": "=","color": "dark_aqua"},{"text": "|","color": "aqua","bold": false},{"text": "=","color": "dark_aqua"},{"text": "|","color": "aqua","bold": false},{"text": "=","color": "dark_aqua"},{"text": "|","color": "aqua","bold": false},{"text": "=","color": "dark_aqua"},{"text": "|","color": "aqua","bold": false},{"text": "=","color": "dark_aqua"},{"text": "|","color": "aqua","bold": false},{"text": "=","color": "dark_aqua"},{"text": "|","color": "aqua","bold": false},{"text": "=","color": "dark_aqua"},{"text": "|","color": "aqua","bold": false},{"text": "=","color": "dark_aqua"},{"text": "|","bold": false,"color": "aqua"},{"text": " "},{"score":{"name":"@p","objective":"mana"},"color":"aqua","bold":false},{"text":"/","color":"aqua","bold":false},{"score":{"name":"@p","objective":"maxMana"},"color":"aqua","bold":false},{"text":"✎","color":"aqua","bold":false}]
execute unless score @p manaWarn matches 1 if entity @p[nbt={SelectedItem:{id:"minecraft:wooden_hoe",tag:{display:{Name:'[{"text":"Weak Railgun","italic":false,"color":"green"}]'}}}}] if score @p weakrailCharge matches 100 run title @a actionbar [{"text": "Railgun Charge: ","color": "blue","bold": true},{"text": "|","color": "dark_aqua","bold": false},{"text": "=","color": "dark_aqua"},{"text": "|","color": "dark_aqua","bold": false},{"text": "=","color": "dark_aqua"},{"text": "|","color": "dark_aqua","bold": false},{"text": "=","color": "dark_aqua"},{"text": "|","color": "dark_aqua","bold": false},{"text": "=","color": "dark_aqua"},{"text": "|","color": "dark_aqua","bold": false},{"text": "=","color": "dark_aqua"},{"text": "|","color": "dark_aqua","bold": false},{"text": "=","color": "dark_aqua"},{"text": "|","color": "dark_aqua","bold": false},{"text": "=","color": "dark_aqua"},{"text": "|","color": "dark_aqua","bold": false},{"text": "=","color": "dark_aqua"},{"text": "|","color": "dark_aqua","bold": false},{"text": "=","color": "dark_aqua"},{"text": "|","color": "dark_aqua","bold": false},{"text": " "},{"score":{"name":"@p","objective":"mana"},"color":"aqua","bold":false},{"text":"/","color":"aqua","bold":false},{"score":{"name":"@p","objective":"maxMana"},"color":"aqua","bold":false},{"text":"✎","color":"aqua","bold":false}]
execute unless score @p manaWarn matches 1 if score @p maxCharge matches 0 if score @p weakrailCharge matches 100.. if entity @p[nbt={SelectedItem:{id:"minecraft:wooden_hoe",tag:{display:{Name:'[{"text":"Weak Railgun","italic":false,"color":"green"}]'}}}}] run item replace entity @p weapon.mainhand with wooden_hoe{attack:40,strength:90,max:1,Unbreakable:1,display:{Name:'[{"text":"Weak Railgun","italic":false,"color":"green"}]',Lore:['[{"text":"Damage: ","italic":false,"color":"gray"},{"text":"+40","color":"red"},{"text":"","color":"dark_purple"}]','[{"text":"Strength: ","italic":false,"color":"gray"},{"text":"+90","color":"red"},{"text":"","color":"dark_purple"}]','[{"text":"","italic":false,"color":"dark_purple"}]','[{"text":"Hold ","italic":false,"color":"gray"},{"text":"RIGHT CLICK","color":"yellow","bold":true},{"text":" to charge","bold":false},{"text":"","bold":false,"color":"dark_purple"}]','[{"text":"energy into the gun!","italic":false,"color":"gray"},{"text":"","italic":false,"color":"dark_purple"}]','[{"text":"","italic":false,"color":"dark_purple"}]','[{"text":"Ability: Power Blast ","italic":false,"color":"gold"},{"text":"LEFT CLICK","color":"yellow","bold":true},{"text":"","color":"dark_purple","bold":false}]','[{"text":"Release energy held in","italic":false,"color":"gray"},{"text":" the","italic":false,"color":"gray"}]','[{"text":"gun into a beam,","italic":false,"color":"gray"},{"text":" damaging","italic":false,"color":"gray"}]','[{"text":"all enemies in","italic":false,"color":"gray"},{"text":" its path."},{"text":"","color":"dark_purple"}]','[{"text":"","italic":false,"color":"dark_purple"}]','[{"text":"Custom Item","italic":false,"color":"dark_gray"},{"text":"","italic":false,"color":"dark_purple"}]','[{"text":"UNCOMMON WEAPON","italic":false,"color":"green","bold":true}]']},Enchantments:[{}],HideFlags:127}
execute unless score @p manaWarn matches 1 if score @p maxCharge matches 1 unless score @p weakrailCharge matches 100.. if entity @p[nbt={SelectedItem:{id:"minecraft:wooden_hoe",tag:{display:{Name:'[{"text":"Weak Railgun","italic":false,"color":"green"}]'}}}}] run item replace entity @p weapon.mainhand with wooden_hoe{attack:40,strength:90,max:0,Unbreakable:1,display:{Name:'[{"text":"Weak Railgun","italic":false,"color":"green"}]',Lore:['[{"text":"Damage: ","italic":false,"color":"gray"},{"text":"+40","color":"red"},{"text":"","color":"dark_purple"}]','[{"text":"Strength: ","italic":false,"color":"gray"},{"text":"+90","color":"red"},{"text":"","color":"dark_purple"}]','[{"text":"","italic":false,"color":"dark_purple"}]','[{"text":"Hold ","italic":false,"color":"gray"},{"text":"RIGHT CLICK","color":"yellow","bold":true},{"text":" to charge","bold":false},{"text":"","bold":false,"color":"dark_purple"}]','[{"text":"energy into the gun!","italic":false,"color":"gray"},{"text":"","italic":false,"color":"dark_purple"}]','[{"text":"","italic":false,"color":"dark_purple"}]','[{"text":"Ability: Power Blast ","italic":false,"color":"gold"},{"text":"LEFT CLICK","color":"yellow","bold":true},{"text":"","color":"dark_purple","bold":false}]','[{"text":"Release energy held in","italic":false,"color":"gray"},{"text":" the","italic":false,"color":"gray"}]','[{"text":"gun into a beam,","italic":false,"color":"gray"},{"text":" damaging","italic":false,"color":"gray"}]','[{"text":"all enemies in","italic":false,"color":"gray"},{"text":" its path."},{"text":"","color":"dark_purple"}]','[{"text":"","italic":false,"color":"dark_purple"}]','[{"text":"Custom Item","italic":false,"color":"dark_gray"},{"text":"","italic":false,"color":"dark_purple"}]','[{"text":"UNCOMMON WEAPON","italic":false,"color":"green","bold":true}]']},HideFlags:127}
execute as @p at @s run tp @e[tag=weakRail] ^ ^1 ^2
execute store success score @p weakRail if score @p weakRail matches 0 if entity @p[nbt={SelectedItem:{id:"minecraft:wooden_hoe",Count:1b,tag:{display:{Name:'[{"text":"Weak Railgun","italic":false,"color":"green"}]'}}}}] run function sbremake:items/railgun/weak/summon
execute unless entity @p[nbt={SelectedItem:{id:"minecraft:wooden_hoe",Count:1b,tag:{display:{Name:'[{"text":"Weak Railgun","italic":false,"color":"green"}]'}}}}] run function sbremake:items/railgun/weak/destroy
execute if entity @e[tag=weakRail,nbt={HurtTime:10s}] unless score @p weakRailCheck matches 1 unless score @p weakrailCharge matches 0 run function sbremake:items/railgun/weak/final
execute if entity @e[tag=weakRail,nbt={HurtTime:10s}] if score @p weakrailCharge matches 0 run function sbremake:items/railgun/weak/charge
scoreboard players reset @p weakrailRC
execute if score @p gamemodeType matches 3 run function sbremake:items/railgun/weak/destroy